resources:
  - name: sample_scriptrepo
    type: gitRepo
    repoPath: jpline/sample-script
    configuration:
      integrationName: github
      branches:
        only: master
    initialVersion:
      sha: master
  
pipelines:
  - name: pipeline1
    setup:
      environmentVariables:
        readOnly:
          ENV1: value1
          ENV2: value2 
    steps:    
      - name: testJob1
        type: bash
        setup:
          environmentVariables:
            normal:
              ENV1: value1_step
            encrypted:
              QEAzAeOwqIgjineWWQdphbOClA41tM3p/NUtcnxxFFXnxMpjUpU90C//WR1WPBFlEw53nSeIo9lCrFPa3587eyq20Un29sdEqaKcKFfB2tZTvmVV5wErS2m4FhRf4bwwxJ6AcFBMoDC6Xkm400SolDTkxFSlIT3n32PYZ/pJLUCDFdv+Lky+p1XJOdokFmnTIn9GAvkfdmBJqITT6VhkqbV8kH7QTRH4kiy1sLCEsaqHQo2vK4QfePgcA6hsrtUJqCYMtQdJDzUu63KKaBIxSoBfOYuKkWKW5H+eT++viZ4HTnW7O3S9R/VXEjr6XztPtTU1YuHH7zDDjFI2Ngo8Vw==
        triggeredBy:
          resources:
            - sample_scriptrepo
        execution:
          onExecute:
            - echo "hello!"
            - echo "ENV1=$ENV1"
            - echo "ENV2=$ENV2"
            
      - name: testJob2
        type: bash
        triggeredBy:
          steps:
            - testJob1
        execution:
          onExecute:
            - echo "ENV1=$ENV1"
            - echo "ENV2=$ENV2"
